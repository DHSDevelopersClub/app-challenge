<!doctype html>

<link rel="import" href="../elements/elements.html">

<dom-module id="search-element">
  <template>
    <style is="custom-style" include="shared-styles  iron-flex iron-flex-alignment">
      :host {
        display: block;
        padding: 10px;
        width: 100%;
        color: white;
      }

      .search-bar {
        display: flex;
        height: 46px;
        background-color: rgba(255, 255, 255, .3);
        border-radius: 3px;
        justify-content: flex-start;
        padding: 0 10px 0 10px;
        margin-left: 2%;
        color: white;
        transition: all 0.3s cubic-bezier(.25,.8,.25,1);
      }

      input {
        border: none;
        background-color: transparent;
        height: 46px;
        width: 100%;
        font-size: 18px;
        color: white;
      }

      input.is-black {
        color: black;
      }

      textarea:focus, input:focus{
        outline: none;
      }

      .is-clicked {
        box-shadow: 0 8px 22px rgba(0,0,0,0.25), 0 4px 4px rgba(0,0,0,0.22);
        background-color: #FFF;
        color: black;
      }

      ::-webkit-input-placeholder  {
        color: rgba(255,255,255,.6);
      }

      :-moz-placeholder { /* Firefox 18- */
         color: rgba(255,255,255,.6);
      }

      ::-moz-placeholder {  /* Firefox 19+ */
         color: rgba(255,255,255,.6);
      }

      :-ms-input-placeholder {
         color: rgba(255,255,255,.6);
      }
    </style>

    <div class="horizontal center layout">
      <div name="main_input" id="main_input" class="search-bar horizontal center layout flex">
        <iron-icon icon="search" id="search"></iron-icon>
        <input is="iron-input" on-blur="inputBlur" id="my_input" on-tap="clicked" placeholder="Search">
      </div>
      <paper-icon-button id="filter" icon="filter-list" on-tap="filterClicked"></paper-icon-button>
    </div>

    <filter-element class="{{filterIsClicked}}"></filter-element>

  </template>

  <script>
    Polymer({
      is: 'search-element',

      properties: {
        filterIsClicked: {
          type: String,
          value: "not-clicked"
        }
      },

      clicked: function() {
        this.$.main_input.setAttribute("class", "search-bar is-clicked horizontal center layout flex");
        this.$.my_input.setAttribute("class", "is-black");
      },

      inputBlur: function () {
        this.$.main_input.setAttribute("class", "search-bar horizontal center layout flex");
        this.$.my_input.setAttribute("class", "");
      },

      filterClicked: function(e, detail) {
        console.log(filterIsClicked);
        if(filterIsClicked == 'clicked'){
          this.filterIsClicked = 'not-clicked';
        }else{
          this.filterIsClicked = 'clicked';
        }
      }
    });
  </script>
</dom-module>
